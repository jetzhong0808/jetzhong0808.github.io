<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Parse Demo</title>
</head>
<body>
	<label>username:</label><input type="text" class='username'>
	</br>
	<label>password:</label><input type="text" class='password'>
	</br>
	<label>isAdministrator:</label><input type="text" class='isAdministrator'>
	</br>
	<input type="button" onclick="addP()" value="add">
	</br>
	----------------------------------------
	</br>
	<input type="button" onclick="getUser()" value="getUser">
	<table id='table'>		
	</table>
	</br>
	----------------------------------------
	</br>
	<input type="button" onclick="filterUser()" value="filterUser">
	<script src="http://cdn.bootcss.com/jquery/3.0.0-alpha1/jquery.js"></script>
	<script src="parse-1.6.12.min.js"></script>
	<script type="text/javascript">
		Parse.$ = jQuery;
		Parse.initialize("x25aSaUx3Jf9XizAopuuMMxSd1F35onqzMO23ib9", "LJt7KluJIaifEVPcsGRzl7E0h59tH01ZfQnTbwyN");//appid,appkey		
		var USER = Parse.Object.extend("user");
		var user = new USER();
		$(document).ready(function(){
			// Parse.Cloud.define("userFilter", function(request, response) {
			// 	var query = new Parse.Query("user");
			// 	query.equalTo("username", request.params.movie);
			// 	query.find({
			// 	success: function(results) {
			// 		response.success(results);
			// 	},
			// 	error: function() {
			// 	  	response.error("request failed");
			// 	}
			// 	})
			// });
			// Parse.Cloud.run('userFilter', {}, {
			// 		    success: function(result) {
			// 			    var length = results.length;
			// 		    	var content = '';
			// 		    	for (var i = 0; i <= length; i++) {
			// 		    		content = content + '<tr>'+ results[i].get('username') +'</tr>'
			// 		    	};
			// 		      	$('#t').append(content);
			// 			  	},
			// 		    error: function(error) {
			// 		  		alert('error');
			// 		  }
			// 	});		
		});
		function getUser(){
			var query = new Parse.Query(user);
			query.find({
			    success: function(results) {
				    var length = results.length;
			    	var content = '<tr><th>objectId</th><th>username</th><th>password</th><th>isAdministrator</th><th>createdAt</th><th>updatedAt</th></tr>';
			    	for (var i = 0; i < length; i++) {
			    		content = content + '<tr>'
			    		+ '<td>' + results[i].id +'</td>'
			    		+ '<td>' + results[i].attributes.username +'</td>'
			    		+ '<td>' + results[i].attributes.password +'</td>'
			    		+ '<td>' + results[i].attributes.isAdministrator +'</td>'
			    		+ '<td>' + results[i].attributes.createdAt +'</td>'
			    		+ '<td>' + results[i].attributes.updatedAt +'</td>'
			    		+ '</tr>';
			    	};
			     	$('#table').append(content);
			    }
			})
		};
		function addP(){
			user.save({
				username: $('.username').val(),
				password: $('.password').val(),
				isAdministrator: $('.isAdministrator').val() === 'true'
			}).then(function(object) {
			  alert("done!");
			  $('.username').val('');
			  $('.password').val('');
			  $('.isAdministrator').val('');
			  getUser();
			});
		}
	</script>
</body>
</html>